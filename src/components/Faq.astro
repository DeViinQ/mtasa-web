---
import Title from "../components/ui/Title.astro";
---

<section class="mt-36 text-center px-4 sm:px-6 lg:px-24 mb-20" id="faq">
  <script>
    import { initFaq } from "./scripts/faq";
    document.addEventListener("DOMContentLoaded", initFaq);
  </script>
  <Title title="Frequently Asked Questions" />
  <p class="text-gray-400 text-xl mt-3 max-w-2xl mx-auto">
    Find answers to the most common questions about Multi Theft Auto: San
    Andreas.
  </p>

  <div class="mt-8 max-w-3xl mx-auto space-y-4">
    <!-- FAQ Item 1 -->
    <div class="faq-item">
      <button
        class="faq-question w-full text-left p-4 bg-gray-800/80 backdrop-blur-sm rounded-lg text-white font-medium flex justify-between items-center hover:bg-gray-700/80 transition-all duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500"
        aria-expanded="false"
        aria-controls="faq-answer-1"
      >
        <span>What is Multi Theft Auto: San Andreas?</span>
        <span class="plus-icon transform transition-transform duration-300">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
          </svg>
        </span>
      </button>
      <div
        id="faq-answer-1"
        class="faq-answer bg-gray-800/50 backdrop-blur-sm rounded-b-lg p-5 text-gray-300 mt-1 hidden overflow-hidden transition-all duration-300 max-h-0 opacity-0"
      >
        <p>
          Multi Theft Auto: San Andreas (MTA:SA) is a multiplayer modification
          for Grand Theft Auto: San Andreas that adds online multiplayer
          functionality to the game. It allows players to play together on
          servers with various game modes including Roleplay, DayZ, Freeroam,
          Racing, Deathmatch, and many custom modes created by the community.
        </p>
      </div>
    </div>

    <!-- FAQ Item 2 -->
    <div class="faq-item mb-4">
      <button
        class="faq-question w-full text-left p-4 bg-gray-800 rounded-lg text-white font-medium flex justify-between items-center hover:bg-gray-700 transition-all duration-300 cursor-pointer"
      >
        <span>Do I need the original GTA: San Andreas to play MTA:SA?</span>
        <span class="plus-icon">+</span>
      </button>
      <div
        class="faq-answer bg-gray-800 bg-opacity-50 rounded-b-lg p-5 text-gray-300 mt-1 hidden overflow-hidden transition-all duration-300 max-h-0 opacity-0"
      >
        <p>
          Yes, you need an original copy of Grand Theft Auto: San Andreas to
          play MTA:SA. The modification works with the original game files and
          cannot function without them.
        </p>
      </div>
    </div>

    <!-- FAQ Item 4 -->
    <div class="faq-item mb-4">
      <button
        class="faq-question w-full text-left p-4 bg-gray-800 rounded-lg text-white font-medium flex justify-between items-center hover:bg-gray-700 transition-all duration-300 cursor-pointer"
      >
        <span>How do I install MTA:SA?</span>
        <span class="plus-icon">+</span>
      </button>
      <div
        class="faq-answer bg-gray-800 bg-opacity-50 rounded-b-lg p-5 text-gray-300 mt-1 hidden overflow-hidden transition-all duration-300 max-h-0 opacity-0"
      >
        <p>Installing MTA:SA is straightforward:</p>
        <ol class="list-decimal pl-6 mt-2 space-y-1">
          <li>
            Download the latest MTA:SA installer from the official website
          </li>
          <li>Run the installer and follow the on-screen instructions</li>
          <li>
            Make sure to point the installer to your GTA: San Andreas
            installation directory when prompted
          </li>
          <li>
            Once installed, you can launch MTA:SA from the desktop shortcut or
            start menu
          </li>
        </ol>
      </div>
    </div>

    <!-- FAQ Item 5 -->
    <div class="faq-item mb-4">
      <button
        class="faq-question w-full text-left p-4 bg-gray-800 rounded-lg text-white font-medium flex justify-between items-center hover:bg-gray-700 transition-all duration-300 cursor-pointer"
      >
        <span>How do I join a server in MTA:SA?</span>
        <span class="plus-icon">+</span>
      </button>
      <div
        class="faq-answer bg-gray-800 bg-opacity-50 rounded-b-lg p-5 text-gray-300 mt-1 hidden overflow-hidden transition-all duration-300 max-h-0 opacity-0"
      >
        <p>To join a server in MTA:SA:</p>
        <ol class="list-decimal pl-6 mt-2 space-y-1">
          <li>Launch MTA:SA</li>
          <li>Click on the "Browse" tab to see the server list</li>
          <li>
            Use the filters to find servers by game mode, player count, or name
          </li>
          <li>Click on a server to select it, then click "Connect" to join</li>
          <li>
            Alternatively, you can add servers to your favorites for quick
            access
          </li>
        </ol>
      </div>
    </div>

    <!-- FAQ Item 6 -->
    <div class="faq-item mb-4">
      <button
        class="faq-question w-full text-left p-4 bg-gray-800 rounded-lg text-white font-medium flex justify-between items-center hover:bg-gray-700 transition-all duration-300 cursor-pointer"
      >
        <span>Is MTA:SA free to play?</span>
        <span class="plus-icon">+</span>
      </button>
      <div
        class="faq-answer bg-gray-800 bg-opacity-50 rounded-b-lg p-5 text-gray-300 mt-1 hidden overflow-hidden transition-all duration-300 max-h-0 opacity-0"
      >
        <p>
          Yes, MTA:SA is completely free to download and play. However, you need
          to own a legitimate copy of GTA: San Andreas to use it. The MTA:SA
          modification itself is open source under the GPLv3 license.
        </p>
      </div>
    </div>

    <!-- FAQ Item 7 -->
    <div class="faq-item mb-4">
      <button
        class="faq-question w-full text-left p-4 bg-gray-800 rounded-lg text-white font-medium flex justify-between items-center hover:bg-gray-700 transition-all duration-300 cursor-pointer"
      >
        <span>Can I create my own server in MTA:SA?</span>
        <span class="plus-icon">+</span>
      </button>
      <div
        class="faq-answer bg-gray-800 bg-opacity-50 rounded-b-lg p-5 text-gray-300 mt-1 hidden overflow-hidden transition-all duration-300 max-h-0 opacity-0"
      >
        <p>
          Yes, you can create your own server in MTA:SA. The server software is
          included with the client installation. To set up a server:
        </p>
        <ol class="list-decimal pl-6 mt-2 space-y-1">
          <li>Install MTA:SA</li>
          <li>Run the MTA Server executable</li>
          <li>Configure your server settings</li>
          <li>Set up port forwarding on your router if hosting from home</li>
          <li>Add resources (game modes) to your server</li>
        </ol>
        <p class="mt-2">
          You can also use Lua scripting to create custom game modes and
          features for your server.
        </p>
      </div>
    </div>
  </div>
</section>

<script>
  // JavaScript to handle the FAQ accordion functionality
  document.addEventListener("DOMContentLoaded", () => {
    const faqQuestions = document.querySelectorAll(".faq-question");
    const faqAnswers = document.querySelectorAll(".faq-answer");

    // Function to close all answers
    const closeAllAnswers = () => {
      faqAnswers.forEach((answer) => {
        answer.classList.add("hidden", "max-h-0", "opacity-0");
        const question = answer.previousElementSibling;
        const plusIcon = question.querySelector(".plus-icon");
        plusIcon.textContent = "+";
        question.classList.remove("rounded-b-none");
      });
    };

    // Function to open specific answer with animation
    const openAnswer = (answer, question) => {
      const plusIcon = question.querySelector(".plus-icon");

      // First make it visible but with height 0
      answer.classList.remove("hidden");

      // Force a reflow to enable the transition
      void answer.offsetWidth;

      // Then animate the height and opacity
      answer.classList.remove("max-h-0", "opacity-0");
      answer.style.maxHeight = answer.scrollHeight + "px";

      plusIcon.textContent = "âˆ’";
      question.classList.add("rounded-b-none");
    };

    faqQuestions.forEach((question) => {
      question.addEventListener("click", () => {
        const answer = question.nextElementSibling;

        // If this answer is already open, just close it
        if (!answer.classList.contains("hidden")) {
          answer.classList.add("max-h-0", "opacity-0");
          setTimeout(() => {
            answer.classList.add("hidden");
            const plusIcon = question.querySelector(".plus-icon");
            plusIcon.textContent = "+";
            question.classList.remove("rounded-b-none");
          }, 300); // Match the duration in the CSS transition
        } else {
          // Close all answers first
          closeAllAnswers();
          // Then open this one
          openAnswer(answer, question);
        }
      });
    });
  });
</script>

<style>
  .faq-answer {
    transition:
      max-height 0.3s ease-in-out,
      opacity 0.3s ease-in-out;
  }

  .faq-answer:not(.hidden) {
    max-height: 500px; /* Adjust based on your content */
    opacity: 1;
  }
</style>
